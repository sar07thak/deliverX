@model DeliveryDost.Web.ViewModels.Account.LoginViewModel
@{
    ViewData["Title"] = "Login";
    Layout = "_LoginLayout";
}

<a href="/" class="back-link">
    <i class="bi bi-arrow-left"></i> Back to Home
</a>

<div class="login-header">
    <div class="login-header-icon">
        <i class="bi bi-person"></i>
    </div>
    <h1>Welcome Back</h1>
    <p>Sign in to continue to DeliveryDost</p>
</div>

<form asp-action="SendOtp" method="post">
    @Html.AntiForgeryToken()
    <input type="hidden" asp-for="Role" id="selectedRole" />

    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert-custom">
            <i class="bi bi-exclamation-circle"></i>
            <div>
                @Html.ValidationSummary(false, "", new { @class = "mb-0" })
            </div>
        </div>
    }

    <div class="form-group">
        <label class="role-section-title">Select Your Role</label>
        <div class="role-grid">
            <div class="role-option">
                <input type="radio" name="roleSelect" id="roleEC" value="EC" checked onchange="selectRole('EC')" />
                <label for="roleEC">
                    <i class="bi bi-person-fill"></i>
                    <span>Consumer</span>
                </label>
            </div>
            <div class="role-option">
                <input type="radio" name="roleSelect" id="roleBC" value="BC" onchange="selectRole('BC')" />
                <label for="roleBC">
                    <i class="bi bi-building"></i>
                    <span>Business</span>
                </label>
            </div>
            <div class="role-option">
                <input type="radio" name="roleSelect" id="roleDP" value="DP" onchange="selectRole('DP')" />
                <label for="roleDP">
                    <i class="bi bi-bicycle"></i>
                    <span>Delivery</span>
                </label>
            </div>
            <div class="role-option">
                <input type="radio" name="roleSelect" id="roleDPCM" value="DPCM" onchange="selectRole('DPCM')" />
                <label for="roleDPCM">
                    <i class="bi bi-person-badge-fill"></i>
                    <span>Manager</span>
                </label>
            </div>
            <div class="role-option">
                <input type="radio" name="roleSelect" id="roleSA" value="SuperAdmin" onchange="selectRole('SuperAdmin')" />
                <label for="roleSA">
                    <i class="bi bi-shield-lock-fill"></i>
                    <span>Admin</span>
                </label>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label class="form-label">Phone Number</label>
        <div class="input-group-custom">
            <span class="prefix">+91</span>
            <input asp-for="Phone" type="tel" placeholder="Enter 10-digit number" maxlength="10" autofocus />
        </div>
        <span asp-validation-for="Phone" class="validation-message"></span>
    </div>

    <button type="submit" class="btn-submit">
        <i class="bi bi-send-fill"></i>
        Send OTP
    </button>
</form>

<div class="login-footer">
    <p>By continuing, you agree to our <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></p>
</div>

@section Scripts {
    <script>
        function selectRole(role) {
            document.getElementById('selectedRole').value = role;
        }
        selectRole('EC');
    </script>
}
